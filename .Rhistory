plot(loo(states), label_points = TRUE) # not too bad, 318 is D.C.
options(width = 90)
library(knitr)
library(rgl)
knit_hooks$set(rgl = hook_plot_custom)
knit_hooks$set(small.mar = function(before, options, envir) {
if (before) par(mar = c(4, 4, .1, .1), las = 1)  # smaller margin on top and right
})
library(rstan)
options(mc.cores = parallel::detectCores())
library(readr)
library(dplyr)
# https://docs.google.com/spreadsheets/d/100BFc0VppVL8CIhaNh5ZiTFGBNCnGBdYzfqISAWxln8/
Gabba <- read_csv("Gabba.csv", col_types = c("ccccdddddddddd"), skip = 1, col_names =
c("FIPS", "ST", "State", "County", "Trump#", "Votes#", "Trump", "Pop",
"Vaccinated#", "Vaccinated", "Death1", "Death2", "Death3", "Death4"))
Gabba <- filter(Gabba, Vaccinated < 100) # some data points were messed up
options(width = 90)
library(knitr)
library(rgl)
knit_hooks$set(rgl = hook_plot_custom)
knit_hooks$set(small.mar = function(before, options, envir) {
if (before) par(mar = c(4, 4, .1, .1), las = 1)  # smaller margin on top and right
})
library(rstan)
options(mc.cores = parallel::detectCores())
library(readr)
library(dplyr)
# https://docs.google.com/spreadsheets/d/100BFc0VppVL8CIhaNh5ZiTFGBNCnGBdYzfqISAWxln8/
Gabba <- read_csv("Gabba.csv", col_types = c("ccccdddddddddd"), skip = 1, col_names =
c("FIPS", "ST", "State", "County", "Trump#", "Votes#", "Trump", "Pop",
"Vaccinated#", "Vaccinated", "Death1", "Death2", "Death3", "Death4"))
Gabba <- filter(Gabba, Vaccinated < 100) # some data points were messed up
getwd()
setwd("/Users/adrianharris/Desktop/Documents/APSTA-GE-2123_2022")
setwd("~/Documents/APSTA-GE-2123_2022")
setwd("~/Documents/APSTA-GE-2123_2022")
options(width = 90)
library(knitr)
library(rgl)
knit_hooks$set(rgl = hook_plot_custom)
knit_hooks$set(small.mar = function(before, options, envir) {
if (before) par(mar = c(4, 4, .1, .1), las = 1)  # smaller margin on top and right
})
library(rstan)
options(mc.cores = parallel::detectCores())
library(readr)
library(dplyr)
# https://docs.google.com/spreadsheets/d/100BFc0VppVL8CIhaNh5ZiTFGBNCnGBdYzfqISAWxln8/
Gabba <- read_csv("Gabba.csv", col_types = c("ccccdddddddddd"), skip = 1, col_names =
c("FIPS", "ST", "State", "County", "Trump#", "Votes#", "Trump", "Pop",
"Vaccinated#", "Vaccinated", "Death1", "Death2", "Death3", "Death4"))
Gabba <- filter(Gabba, Vaccinated < 100) # some data points were messed up
setwd("/Users/adrianharris/Documents/APSTA-GE-2123_2022")
options(width = 90)
library(knitr)
library(rgl)
knit_hooks$set(rgl = hook_plot_custom)
knit_hooks$set(small.mar = function(before, options, envir) {
if (before) par(mar = c(4, 4, .1, .1), las = 1)  # smaller margin on top and right
})
library(rstan)
options(mc.cores = parallel::detectCores())
library(readr)
library(dplyr)
# https://docs.google.com/spreadsheets/d/100BFc0VppVL8CIhaNh5ZiTFGBNCnGBdYzfqISAWxln8/
Gabba <- read_csv("Gabba.csv", col_types = c("ccccdddddddddd"), skip = 1, col_names =
c("FIPS", "ST", "State", "County", "Trump#", "Votes#", "Trump", "Pop",
"Vaccinated#", "Vaccinated", "Death1", "Death2", "Death3", "Death4"))
Gabba <- filter(Gabba, Vaccinated < 100) # some data points were messed up
setwd("/Users/adrianharris/Documents/APSTA-GE-2123_2022")
options(width = 90)
library(knitr)
library(rgl)
knit_hooks$set(rgl = hook_plot_custom)
knit_hooks$set(small.mar = function(before, options, envir) {
if (before) par(mar = c(4, 4, .1, .1), las = 1)  # smaller margin on top and right
})
library(rstan)
options(mc.cores = parallel::detectCores())
library(readr)
library(dplyr)
# https://docs.google.com/spreadsheets/d/100BFc0VppVL8CIhaNh5ZiTFGBNCnGBdYzfqISAWxln8/
Gabba <- read_csv("Gabba.csv", col_types = c("ccccdddddddddd"), skip = 1, col_names =
c("FIPS", "ST", "State", "County", "Trump#", "Votes#", "Trump", "Pop",
"Vaccinated#", "Vaccinated", "Death1", "Death2", "Death3", "Death4"))
Gabba <- filter(Gabba, Vaccinated < 100) # some data points were messed up
setwd("/Users/adrianharris/Desktop/Bayesian")
options(width = 90)
library(knitr)
library(rgl)
knit_hooks$set(rgl = hook_plot_custom)
knit_hooks$set(small.mar = function(before, options, envir) {
if (before) par(mar = c(4, 4, .1, .1), las = 1)  # smaller margin on top and right
})
library(rstan)
options(mc.cores = parallel::detectCores())
library(readr)
library(dplyr)
# https://docs.google.com/spreadsheets/d/100BFc0VppVL8CIhaNh5ZiTFGBNCnGBdYzfqISAWxln8/
Gabba <- read_csv("Gabba.csv", col_types = c("ccccdddddddddd"), skip = 1, col_names =
c("FIPS", "ST", "State", "County", "Trump#", "Votes#", "Trump", "Pop",
"Vaccinated#", "Vaccinated", "Death1", "Death2", "Death3", "Death4"))
Gabba <- filter(Gabba, Vaccinated < 100) # some data points were messed up
library(tidymodels)
library(fastshap)
library(tidyverse)
library(rvest)
library(readr)
library(dplyr)
library(tidyr)
library(tidyverse)
library(janitor)
rm(list = ls())
set.seed(1234)
options(scipen=999)
setwd("/Users/adrianharris/Desktop/Messy-Data-Project")
df <- read.csv('Data/feature_eng_below_5_99s_data.csv')
library(tidymodels)
library(fastshap)
library(tidyverse)
library(rvest)
library(readr)
library(dplyr)
library(tidyr)
library(tidyverse)
library(janitor)
rm(list = ls())
set.seed(1234)
options(scipen=999)
setwd("/Users/adrianharris/Desktop/Messy-Data-Project")
df <- read.csv('Data/feature_eng_below_5_99s_data.csv')
vb_split <- initial_split(df)
vb_train <- training(vb_split) %>% select(-player, -level_overall)
vb_test <- testing(vb_split) %>% select(-player, -level_overall)
mod <- lm(total_xp_overall ~., data = vb_train)
pred <- predict(mod , newdata = vb_test)
print(sprintf("MSE=%0.2f", sum(mod$residuals^2)/mod$df.residual))
summary(mod)
knitr::opts_chunk$set(echo=TRUE,tidy=TRUE)
setwd("~/Desktop/multilevel")
require(lme4)
require(foreign)
require(lmerTest)
library(dplyr)
library(tidyr)
library(tidyverse)
rm(list = ls())
options(scipen=999)
#read data
df <- read.csv('classroom.csv')
fit1 <- lmer(mathgain  ~  mathkind + ses + minority  +  yearstea + (1|schoolid),data=df)
logLik(fit1)
fit2 <- lmer(mathgain  ~  mathkind + ses + minority  + (0 + yearstea| schoolid) + yearstea + (1|schoolid),data=df)
summary(fit2)
logLik(fit2)
logLik(fit2)
anova(fit1, fit2, refit = F)
fit3 <- lmer(mathgain  ~  mathkind + ses + minority  + (yearstea| schoolid) + yearstea ,data=df)
summary(fit3)
logLik(fit3)
anova(fit2, fit3, refit = F)
pred <- predict(fit3)
pred <- predict(fit3)
ranef(predict(fit3))
ranef(fit3)
predict(ranef(fit3))
pred <- predict(fit3)
pred
